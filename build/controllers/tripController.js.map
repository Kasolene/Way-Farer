{"version":3,"sources":["../../server/controllers/tripController.js"],"names":["createAtrip","req","res","body","busLicenseNumber","seatingCapacity","origin","destination","fare","status","trips","push","tripId","length","tripDate","Date","json","data","getAllTrips","getOneTrip","params","trip","find","toString","send","message","cancelTrip","mytrip"],"mappings":"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","sourcesContent":["import trips from '../models/Trips';\r\n\r\n/**\r\n * Adds two numbers together.\r\n * @param req The first number.\r\n * @param res num2 The second number.\r\n * @returns {int} The sum of the two numbers.\r\n */\r\nexport function createAtrip(req, res) {\r\n  const {\r\n    busLicenseNumber, seatingCapacity, origin, destination, fare, status,\r\n  } = req.body;\r\n  trips.push({\r\n    tripId: trips.length, \r\n    busLicenseNumber,\r\n    seatingCapacity,\r\n    origin,\r\n    destination,\r\n    tripDate: Date(),\r\n    fare,\r\n    status :'active',\r\n  });\r\n  res.status(200).json({\r\n    status : 200,\r\n    data : trips[trips.length - 1]\r\n  }\r\n  );\r\n}\r\n\r\nexport function getAllTrips(req, res) {\r\n  res.status(200).json({\r\n    status: 200,\r\n    data: trips,\r\n  });\r\n}\r\n\r\nexport function getOneTrip(req, res) {\r\n  const {tripId } = req.params;\r\n  const trip = trips.find(trip => trip.tripId.toString() === tripId );\r\n  if (trip) {\r\n    res.status(200).send({\r\n      status : 200,\r\n      data : trip,\r\n    });\r\n  } if (!trip) {\r\n    res.status(404).send({\r\n     status :404,\r\n     data : {\r\n        message: 'No trip found with this ID',\r\n     }\r\n  });\r\n  }\r\n}\r\n\r\nexport function cancelTrip(req, res) {\r\n\r\n  const { tripId } = req.params;\r\n  const mytrip = trips.find(trip=>trip.tripId.toString() === tripId);\r\n  if(mytrip){\r\n    trips[mytrip.tripId-1].status = 'canceled';\r\n    res.status(200).json({\r\n      status: 200,\r\n      data: {\r\n        message : 'Trip cancelled successfully'\r\n      }\r\n    });\r\n  } else {\r\n   res.status(500).json({\r\n      status: 500,\r\n      message: 'trip not cancelled',\r\n    });\r\n  }\r\n\r\n}"],"file":"tripController.js"}